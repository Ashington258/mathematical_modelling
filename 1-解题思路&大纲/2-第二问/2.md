# 第二问

## 1 问题重述

### 问题 2

某企业生产某种畅销的电子产品，需要分别购买两种零配件（零配件 1 和零配件 2），在企业将两个零配件装配成成品。在装配的成品中，只要其中一个零配件不合格，则成品一定不合格；如果两个零配件均合格，装配出的成品也不一定合格。对于不合格成品，企业可以选择报废，或者对其进行拆解，拆解过程不会对零配件造成损坏，但需要花费拆解费用。

请建立数学模型，解决以下问题：

已知两种零配件和成品次品率，请为企业生产过程的各个阶段作出决策：(以情况1为例)

1. 对零配件（零配件 1 和/或零配件 2）是否进行检测，如果对某种零配件不检测，这种零配件将直接进入到装配环节；否则将检测出的不合格零配件丢弃；
2. 对装配好的每一件成品是否进行检测，如果不检测，装配后的成品直接进入到市场；否则只有检测合格的成品进入到市场；
3. 对检测出的不合格成品是否进行拆解，如果不拆解，直接将不合格成品丢弃；否则对拆解后的零配件，重复步骤(1)和步骤(2)；
4. 对用户购买的不合格品，企业将无条件予以调换，并产生一定的调换损失（如物流成本、企业信誉等）。对退回的不合格品，重复步骤(3)。

请根据你们所做的决策，对表 1 中的情形给出具体的决策方案，并给出决策的依据及相应的指标结果。

**表 1 企业在生产中遇到的情况（问题 2）**



| 情况 | 零配件 1 |          |          | 零配件 2 |          |          | 成品   |          |          | 不合格成品 |          |
| ---- | -------- | -------- | -------- | -------- | -------- | -------- | ------ | -------- | -------- | ---------- | -------- |
|      | 次品率   | 购买单价 | 检测成本 | 次品率   | 购买单价 | 检测成本 | 次品率 | 装配成本 | 检测成本 | 市场售价   | 调换损失 | 拆解费用 |
| 1    | 10%      | 4        | 2        | 10%      | 18       | 3        | 10%    | 6        | 3        | 56         | 6        | 5        |
| 2    | 20%      | 4        | 2        | 20%      | 18       | 3        | 20%    | 6        | 3        | 56         | 6        | 5        |
| 3    | 10%      | 4        | 2        | 10%      | 18       | 3        | 10%    | 6        | 3        | 56         | 30       | 5        |
| 4    | 20%      | 4        | 1        | 20%      | 18       | 1        | 20%    | 6        | 2        | 56         | 30       | 5        |
| 5    | 10%      | 4        | 8        | 20%      | 18       | 1        | 10%    | 6        | 2        | 56         | 10       | 5        |
| 6    | 5%       | 4        | 2        | 5%       | 18       | 3        | 5%     | 6        | 3        | 56         | 10       | 40       |


## 2 模型建立

### 3 符号说明
**决策变量**

| 符号              | 说明                 |
| :---------------- | :------------------- |
| $x_1,x_2,...,x_i$ | 是否对零配件进行检测 |
| $y$               | 是否对成品进行检测   |
| $z$               | 是否对成品进行拆解   |
<!--
 * @Author: Ashington ashington258@proton.me
 * @Date: 2024-09-07 21:28:18
 * @LastEditors: Ashington ashington258@proton.me
 * @LastEditTime: 2024-09-07 21:30:08
 * @FilePath: \2\2.md
 * @Description: 请填写简介
 * 联系方式:921488837@qq.com
 * Copyright (c) 2024 by ${git_name_email}, All Rights Reserved. 
-->
# 第二问

下面是完整的更新后的模型，包括所有的成本、利润项以及假设和决策变量的详细定义，形成一个优化问题以帮助企业做出生产过程的最佳决策。

### 1. 符号说明

**参数说明**

| 符号                                       | 说明             |
| :----------------------------------------- | :--------------- |
| \( c^c_{p1}, c^c_{p2}, \ldots, c^c_{pi} \) | 零配件的单价     |
| \( c^c_{d1}, c^c_{d2}, \ldots, c^c_{di} \) | 零配件的检测成本 |
| \( c^f_d \)                                | 成品检测成本     |
| \( c^f_a \)                                | 成品拆解成本     |
| \( c_s \)                                  | 调换成本         |
| \( c_s^f \)                                | 成品装配成本     |
| \( p^c_1, p^c_2, \ldots, p^c_i \)          | 零配件的次品率   |
| \( p^f \)                                  | 成品的次品率     |
| \( s^f \)                                  | 成品售价         |
| \( n_1^c, n_2^c, \ldots, n_i^c \)          | 零配件的数量     |
| \( n^f \)                                  | 成品的数量       |

**决策变量**

| 符号                        | 说明                 |
| :-------------------------- | :------------------- |
| \( x_1, x_2, \ldots, x_i \) | 是否对零配件进行检测 |
| \( y \)                     | 是否对成品进行检测   |
| \( z \)                     | 是否对成品进行拆解   |

### 2. 成本-利润决策模型

#### 成本项和利润项的计算

1. **零配件购买成本**：
   \[
   C^c_p = \sum_{i=1}^{i} n_i^c c_{pi}^c
   \]

2. **零配件检测成本**：
   \[
   C^c_d = \sum_{i=1}^{i} n_i^c x_i c_{di}^c
   \]

3. **成品检测成本**：
   \[
   C_d^f = c_d^f y \left((n^c - x p^c n^c) \times (1 - p^f)\right)
   \]

4. **成品拆解成本**：
   \[
   C_a^f = c_a^f z \left((n^c - x p^c n^c) \times p^f\right)
   \]

5. **调换成本**：
   \[
   C_s = c_s y \left((n^c - x p^c n^c) \times p^f\right)
   \]

6. **成品装配成本**：
   \[
   C_s^f = c_s^f \times \left((n^c - x p^c n^c) \times (1 - p^f)\right)
   \]

7. **利润**：
   \[
   S = s^f \times \left((n^c - x p^c n^c) \times (1 - p^f)\right)
   \]

#### 成品数量计算

成品数量为：
\[
n^f = \left(n^c - x p^c n^c\right) \times (1 - p^f)
\]

其中：
- \( n^c - x p^c n^c \) 是检测合格后的零配件数量；
- \( (1 - p^f) \) 是成品的合格率。

### 3. 总成本目标函数

整合所有成本项和利润，目标是最小化总成本：

\[
\min Z = n^c \left( \sum_{i=1}^{i} c_{pi}^c + \sum_{i=1}^{i} x_i c_{di}^c \right) + \left((n^c - x p^c n^c) \times (1 - p^f)\right) \left( c_d^f y + c_a^f z p^f + c_s y p^f - s^f + c_s^f \right)
\]

### 4. 假设和约束条件

1. **假设**：所有零配件数量相等，即 \( n_1^c = n_2^c = \ldots = n^c \)。
2. **零配件检测决策**： \( x_i \in \{0, 1\} \) 表示是否检测零配件。
3. **成品检测和拆解决策**：\( y, z \in \{0, 1\} \) 表示是否检测成品和是否进行拆解。
4. **成品次品率**：装配成品后，成品可能出现次品，需要通过检测和拆解控制质量。
5. **决策变量约束**： \( x_i, y, z \) 为0或1，确保决策的唯一性和可执行性。

### 模型总结

该模型综合考虑了企业在生产和检测过程中的各类成本和收益，通过调节检测、拆解和调换的决策变量，优化生产成本与利润之间的平衡。企业可以利用该模型进行优化决策，最小化生产总成本，实现最佳的成本效益。



## 经过假设简化

在假设所有零配件数量相等的情况下，即 \( n_1^c = n_2^c = \ldots = n^c = n^c \)，我们可以对总成本目标函数进行化简。以下是详细的化简步骤和最终的表达式。

### 假设简化条件

根据假设 \( n_1^c = n_2^c = \ldots = n^c \)，我们统一用 \( n^c \) 表示每种零配件的数量。

### 成本和利润项化简

1. **零配件购买成本**：
   \[
   C^c_p = n^c \sum_{i=1}^{i} c_{pi}^c
   \]

2. **零配件检测成本**：
   \[
   C^c_d = n^c \sum_{i=1}^{i} x_i c_{di}^c
   \]

3. **成品检测成本**：
   \[
   C_d^f = c_d^f y \left((n^c - x p^c n^c) \times (1 - p^f)\right) = c_d^f y n^c (1 - x p^c) (1 - p^f)
   \]

4. **成品拆解成本**：
   \[
   C_a^f = c_a^f z \left((n^c - x p^c n^c) \times p^f\right) = c_a^f z n^c (1 - x p^c) p^f
   \]

5. **调换成本**：
   \[
   C_s = c_s y \left((n^c - x p^c n^c) \times p^f\right) = c_s y n^c (1 - x p^c) p^f
   \]

6. **成品装配成本**：
   \[
   C_s^f = c_s^f \times \left((n^c - x p^c n^c) \times (1 - p^f)\right) = c_s^f n^c (1 - x p^c) (1 - p^f)
   \]

7. **利润**：
   \[
   S = s^f \times \left((n^c - x p^c n^c) \times (1 - p^f)\right) = s^f n^c (1 - x p^c) (1 - p^f)
   \]

### 化简的总成本目标函数

将所有化简后的成本和利润项代入目标函数：

\[
\min Z = n^c \left( \sum_{i=1}^{i} c_{pi}^c + \sum_{i=1}^{i} x_i c_{di}^c \right) + n^c (1 - x p^c) \left( c_d^f y (1 - p^f) + c_a^f z p^f + c_s y p^f - s^f (1 - p^f) + c_s^f (1 - p^f) \right)
\]

进一步整理化简：

\[
\min Z = n^c \left[ \sum_{i=1}^{i} c_{pi}^c + \sum_{i=1}^{i} x_i c_{di}^c \right] + n^c (1 - x p^c) \left[ (c_d^f y + c_s^f - s^f) (1 - p^f) + (c_a^f z + c_s y) p^f \right]
\]

### 最终的化简表达式

化简后的目标函数表达式为：

\[
\min Z = n^c \left[ \sum_{i=1}^{i} c_{pi}^c + \sum_{i=1}^{i} x_i c_{di}^c \right] + n^c (1 - x p^c) \left[ (c_d^f y + c_s^f - s^f) (1 - p^f) + (c_a^f z + c_s y) p^f \right]
\]

这一表达式准确地结合了所有的成本项，并反映了不同决策变量（如是否检测、拆解）的影响，是在假设所有零配件数量相等的条件下对企业生产决策进行优化的简化模型。